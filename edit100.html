
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cклад (регистр №1) - ПОРТАЛ АЛКОСПОТ ЕГАИС</title>
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
<link href="http://centrikt.ru:51003/Content/bootstrap-datetimepicker.css" rel="stylesheet"/>

    <link href="css/Site.css?24" rel="stylesheet"/>

    <link href="http://centrikt.ru:51003/Content/footer.css?24" rel="stylesheet"/>

    <link href="css/Front.css?24" rel="stylesheet"/>

    <link href="https://doc.alcospot.ru:8090/Content/callback-request.css" rel="stylesheet" />
    <script src="http://centrikt.ru:51003/Scripts/modernizr-2.8.3.js"></script>

    <script src="http://centrikt.ru:51003/Scripts/jquery-2.1.4.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.unobtrusive-ajax.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.validate.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.validate.unobtrusive.js"></script>
<script src="http://centrikt.ru:51003/Scripts/required-if-attribute.js"></script>

    <script src="http://centrikt.ru:51003/Scripts/bootstrap.js"></script>
<script src="http://centrikt.ru:51003/Scripts/respond.js"></script>
<script src="http://centrikt.ru:51003/Scripts/bootbox.js"></script>
<script src="http://centrikt.ru:51003/Scripts/moment.js"></script>
<script src="http://centrikt.ru:51003/Scripts/moment-with-locales.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.tablesorter.min.js"></script>
<script src="http://centrikt.ru:51003/Scripts/bootstrap-datetimepicker.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.inputmask/inputmask.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.inputmask/jquery.inputmask.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.inputmask/inputmask.extensions.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.inputmask/inputmask.date.extensions.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.inputmask/inputmask.numeric.extensions.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.inputmask/inputmask.regex.extensions.js"></script>
<script src="http://centrikt.ru:51003/Scripts/Controls/editor-date.js"></script>
<script src="http://centrikt.ru:51003/Scripts/floatThead/jquery.floatThead.js"></script>
<script src="http://centrikt.ru:51003/Scripts/common.js"></script>
<script src="http://centrikt.ru:51003/Scripts/jquery.scrollUp.min.js"></script>


    
    <script src="https://doc.alcospot.ru:8090/Scripts/callback-request.js"></script>
    
    <script>
     $(function(){
    var expUserItem3var = $(".expUserItem3Block");
       $(":checkbox", expUserItem3var).change(function() {
                  expUserItem3var.toggleClass("expUserItem3Block2", this.checked);
      });});
  </script>
    
</head>
<body>
    <header>
        <div class="headRowUp">
            <div class="container">
                <div class="col-md-4 colLogo">
                    <div class="logo">
                        <a href="http://centrikt.ru:51003/"><img src="http://centrikt.ru:51003/Content/Images/NewFront/logo.svg"><span class="version">v&zwnj;3.5.6403</span></a>
                    </div>
                </div>
                <div class="col-md-8 headLine">
                    <div class="headTel">8 (499) 653-61-43</div>
                    <div class="headProblemBut">
                        <a href="#" class="callBackControl"><span class="glyphicon glyphicon-exclamation-sign"></span>Сообщить о проблеме</a>
                    </div>
                        <div class="headLogin">Вы вошли как: Designer | <a href="http://centrikt.ru:51003/Account/Logout">Выйти</a></div>
                </div>
            </div>
        </div>



<div class="container">
    <div class="col-md-9">
        <div class="nav1" id="mainmenu">


<a href="http://centrikt.ru:51003/Home/Operator">Главная</a>


    <div class="nav1SubMenuHover">
        <a href="http://centrikt.ru:51003/Home/Operator" class="nav1SubItem">Административные функции</a>
        <div class="nav1SubMenu">
                <a href="http://centrikt.ru:51003/User">Пользователи</a>
                <a href="http://centrikt.ru:51003/Organisation">Организации</a>
                <a href="http://centrikt.ru:51003/RetailNetwork">Торговые сети</a>
        </div>
    </div>

<div class="nav1SubMenuHover">
    <a href="http://centrikt.ru:51003/StockRests" class="nav1SubItem">Склад</a>
    <div class="nav1SubMenu">
            <a href="http://centrikt.ru:51003/StockRests">Склад</a>
            <a href="http://centrikt.ru:51003/ActWriteOffStock">Акты списания продукции</a>
            <a href="http://centrikt.ru:51003/ActChargeOnStock">Акты постановки на баланс</a>
            <a href="http://centrikt.ru:51003/ActTransferToShop">Акты перемещения продукции</a>
    </div>
</div>
<div class="nav1SubMenuHover">
    <a href="http://centrikt.ru:51003/ShopRests" class="nav1SubItem">Торговый зал</a>
    <div class="nav1SubMenu">
        <a href="http://centrikt.ru:51003/ShopRests">Торговый зал</a>
        <a href="http://centrikt.ru:51003/ActWriteOffShop">Акты списания продукции</a>
        <a href="http://centrikt.ru:51003/ActChargeOnShop">Акты постановки на баланс</a>
        <a href="http://centrikt.ru:51003/ActTransferToStock">Акты перемещения продукции</a><a href="http://centrikt.ru:51003/Inventory">Инвентаризация</a>
    </div>
</div>
<div class="nav1SubMenuHover">
    <a href="http://centrikt.ru:51003/IncomingWayBill/Index/All" class="nav1SubItem">Накладные</a>
    <div class="nav1SubMenu">
        <a href="http://centrikt.ru:51003/IncomingWayBill/Index/All">Входящие товаро-транспортные накладные</a>
        <a href="http://centrikt.ru:51003/OutgoingWayBill/Index/All">Исходящие товаро-транспортные накладные</a>
    </div>
</div>

<a href="http://centrikt.ru:51003/Declaration/Simple">Декларации</a>    <div class="nav1SubMenuHover">
        <a href="http://centrikt.ru:51003/Reports" class="nav1SubItem"> Отчеты и выгрузка</a>
        <div class="nav1SubMenu">
            <a href="http://centrikt.ru:51003/Reports?mode=Reports">Отчеты</a>
            <a href="http://centrikt.ru:51003/Reports?mode=Exports">Выгрузка данных</a>
        </div>
    </div>
<a href="http://centrikt.ru:51003/Utm">Управление</a>
        </div>
    </div>


                                                    <div class="col-md-3">
                                <div class="nav1ChangeOrg">
                                    <span class="nav1ChangeOrgLink">
                                        <nobr>
                                            ООО Центр ИКТ, КПП 772501001<span class="glyphicon glyphicon-chevron-down"></span>
                                        </nobr>
                                        <ul>
                                            <a href="http://centrikt.ru:51003/Subdivision/ChooseSubdivision">Выбрать другое подразделение</a>
                                            <a href="http://centrikt.ru:51003/Organisation/ClearCurrentOrganisation">Выйти из организации</a>
                                        </ul>
                                    </span>
                                </div>
                            </div>
 </div>
<script>
    var menu = $('#mainmenu');
    var activeItemName = 'customer-docs';
    if (activeItemName != '') {
        var activeItem = $('#' + activeItemName, menu);
        activeItem.addClass('active');
    }
</script>
    </header>
    <div class="bodyBack">


        


<div class="container">
    <div class="breadcrumb2"><a href="#">Cклад (регистр №1)</a></div>

    <div class="col-md-8"><h1>Cклад (регистр №1)</h1></div>

        <div class="col-md-4" style="text-align: right">
            
            <div class="expUserItem3">
    <label>
    <div class="expUserItem3Block"><input name="" type="checkbox" value="" class="expUserItem3Check"><div class="expUserItemBlock3Circ"></div><span class="expUserItemIcon1"></span><span class="expUserItem3Icon1 glyphicon glyphicon-wrench"></span>
    <span class="expUserItem3text1">Обычный режим</span><span class="expUserItem3text2">Опытный пользователь</span>
    </div>
    </label>
    </div>
            
        </div>
    <div class="col-md-12 descText">
        Заполнение позиций документов, отправляемых в ЕГАИС, осуществляется на основании имеющихся на виртуальном складе вашей организации остатков. Также в целях продажи алкогольной продукции ее требуется перевести в торговый зал. Остатки всегда актуальны на конкретную дату.
    </div>
</div>



    <form action="http://centrikt.ru:51003/StockRests/Update" data-ajax="true" data-ajax-failure="onAjaxFailure" data-ajax-method="Post" data-ajax-mode="replace-with" data-ajax-update="#header-form" id="header-form" method="post">        <div class="container">
            <div class="col-md-12">
                <p>
                    Актуальная дата остатков:
                    <b>10.05.2017 09:46:21</b>
                </p>
                    <button type="submit" class="btn btn-primary">Обновить</button>
            </div>
        </div>
</form>

<div class="container">
    

<form action="http://centrikt.ru:51003/StockRests/List" class="form-horizontal" data-ajax="true" data-ajax-failure="onAjaxFailure" data-ajax-loading="#rests-loader" data-ajax-method="Get" data-ajax-mode="replace-with" data-ajax-success="onRestFiltersSuccess" data-ajax-update="#form-rests" id="form-rests" method="post">            <script src="http://centrikt.ru:51003/Scripts/js.cookie.js"></script>
<input id="ForSelect" name="ForSelect" type="hidden" value="" />                <input type="hidden" name="page" id="form-rests-page" value="1" />
                <input type="hidden" name="unique" value="f180a7f3-0f21-48f0-8e4e-11fd61da6bf8" />
                <div class="col-md-12"><h2>Фильтрация остатков</h2></div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for='AlcCode' class="control-label col-sm-3 col-fixed">Алк. код</label>
                            <div class="col-sm-9">
                                <input class="form-control" id="AlcCode" name="AlcCode" type="text" value="" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for='Name' class="control-label col-sm-3 col-fixed">Наименование</label>
                            <div class="col-sm-9">
                                <input class="form-control" id="Name" name="Name" type="text" value="" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for='InfoA' class="control-label col-sm-3 col-fixed">Справка А</label>
                            <div class="col-sm-9">
                                <input class="form-control" id="InfoA" name="InfoA" type="text" value="" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for='InfoB' class="control-label col-sm-3 col-fixed">Справка Б</label>
                            <div class="col-sm-9">
                                <input class="form-control" id="InfoB" name="InfoB" type="text" value="" />
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-6">

                        <div class="form-group">
                            <label for='ProducerImporterInn' class="control-label col-sm-6 col-fixed">ИНН Производителя/Импортера</label>
                            <div class="col-sm-6">
                                <input class="form-control" id="ProducerImporterInn" name="ProducerImporterInn" type="text" value="" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for='ProducerImporterKpp' class="control-label col-sm-6 col-fixed">КПП Производителя/Импортера</label>
                            <div class="col-sm-6">
                                <input class="form-control" id="ProducerImporterKpp" name="ProducerImporterKpp" type="text" value="" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for='ProducerName' class="control-label col-sm-6 col-fixed">Производитель</label>
                            <div class="col-sm-6">
                                <input class="form-control" id="ProducerName" name="ProducerName" type="text" value="" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-12" style="margin-top: 10px;">
                        <button type="submit" class="btn btn-primary btn-min-width">
                            Поиск
                            <img src="http://centrikt.ru:51003/Content/Icons/ajax-loader-blue.gif" id="rests-loader" class="collapse" />
                        </button>
                        <button type="button" class="btn btn-default" id="rests-filters-reset">Очистить</button>
                                                    
                                <div style="float: right;">
                                    <button id="move-all-to-shop" class="btn btn-primary btn-min-width" type="button">
                                        Перенести всю продукцию в торговый зал

                                    </button>
                                    <a class="btn btn-primary btn-min-width" href="http://centrikt.ru:51003/ShopRests">Перейти в торговый зал</a>
                                    <a class="btn btn-primary" href="http://centrikt.ru:51003/Client/Acts?type=Stock">Перейти к актам</a>
                                </div>
                            
                    </div>
                </div>
                <hr/>
                <div class="space-bottom">
    <div class="toolPanel2">
        <div class="container">
            <div id="actions" class="subLinks1 linkBut">
                <div class="col-md-12">
                    <div class="subBlock1"><strong>Действия:</strong><a href="#" id="transfer-to-shop-selected">Перенести в торговый зал</a>
                            <a href="#" id="create-act-writeoff-selected">Списать продукцию со склада</a>
                        <a href="#" id="create-outgoing-waybill-selected">Создать исх. ТТН</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
                <div class="paginationBlock">
                    <ul class="pagination" id="rests-pager">
                            <li class='active'>
                                <a href="#" data-page="1">1</a>
                            </li>
                    </ul>
                    <img src="http://centrikt.ru:51003/Content/Icons/ajax-loader.gif" id="rests-pager-loader" class="collapse" style="vertical-align: top; padding-top: 30px; padding-left: 10px;" />
                </div>
                             <div class="table1">
                                 <table id="stockRests" class="table table-striped">
                                     <thead>
                                     <tr>
                                             <th data-sorter="false" class="select-all table1MinTd" rowspan="2">
                                                 <input type="checkbox" id="checkbox-select-all" class="table1Check"/>
                                             </th>
                                         <th rowspan="2" class="text-nowrap vertical-bottom">Алк. код</th>
                                         <th rowspan="2" class="vertical-bottom">Наименование</th>
                                         <th data-sorter="false" colspan="3" class="text-center">Производитель</th>
                                         <th rowspan="2" class="text-nowrap vertical-bottom">Справка А</th>
                                         <th rowspan="2" class="text-nowrap vertical-bottom">Справка B</th>
                                         <th rowspan="2" class="vertical-bottom text-center">Количество</th>
                                         <th rowspan="2" class="vertical-bottom text-center">Объём</th>
                                         <th rowspan="2" class="vertical-bottom text-center">Крепость</th>
                                             <th data-sorter="false" rowspan="2" class="text-nowrap vertical-bottom"></th>
                                     </tr>
                                     <tr>
                                         <th>Название</th>
                                         <th>ИНН</th>
                                         <th>КПП</th>
                                     </tr>
                                     </thead>
                                     <tbody id="table-body">
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538115" data-id="16538115"/>
                                                 </td>
                                             <td class="text-break-all">
0035543000001251651                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538115' onclick="PositionDetailsShow(this);">Пиво светлое пастеризованное &quot;Сибирская корона классическое&quot; КЕГИ</a>
                                             </td>
                                             <td class="text-break-all">АО &quot;САН ИНБЕВ&quot;</td>
                                             <td class="text-break-all">5020037784</td>
                                             <td class="text-break-all">550702001</td>
                                             <td class="text-break-all">TEST-FA-000000003847341</td>
                                             <td class="text-break-all">TEST-FB-000000005750381</td>
                                             <td class="text-center">1</td>
                                             <td class="text-center">5.3</td>
                                             <td class="text-center">5.30</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538115" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538115" data-quantity='1.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538115" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538121" data-id="16538121"/>
                                                 </td>
                                             <td class="text-break-all">
0036245000001234395                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538121' onclick="PositionDetailsShow(this);">Пиво светлое непастеризованное &quot;Русское пиво&quot; классическое</a>
                                             </td>
                                             <td class="text-break-all">АО &quot;РПК &quot;Хмелёфф&quot;</td>
                                             <td class="text-break-all">6228002327</td>
                                             <td class="text-break-all">623401001</td>
                                             <td class="text-break-all">TEST-FA-000000016480378</td>
                                             <td class="text-break-all">TEST-FB-000000032547798</td>
                                             <td class="text-center">5</td>
                                             <td class="text-center">4</td>
                                             <td class="text-center">4.00</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538121" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538121" data-quantity='5.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538121" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538118" data-id="16538118"/>
                                                 </td>
                                             <td class="text-break-all">
0036245000001234395                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538118' onclick="PositionDetailsShow(this);">Пиво светлое непастеризованное &quot;Русское пиво&quot; классическое</a>
                                             </td>
                                             <td class="text-break-all">АО &quot;РПК &quot;Хмелёфф&quot;</td>
                                             <td class="text-break-all">6228002327</td>
                                             <td class="text-break-all">623401001</td>
                                             <td class="text-break-all">TEST-FA-000000026948432</td>
                                             <td class="text-break-all">TEST-FB-000000032547799</td>
                                             <td class="text-center">4</td>
                                             <td class="text-center">4</td>
                                             <td class="text-center">4.00</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538118" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538118" data-quantity='4.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538118" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538116" data-id="16538116"/>
                                                 </td>
                                             <td class="text-break-all">
0037340000001233305                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538116' onclick="PositionDetailsShow(this);">Пиво&quot;ТРЕХСОСЕНСКОЕ светлое Живое&quot; 1,7 л ПЭТ</a>
                                             </td>
                                             <td class="text-break-all">ООО &quot;ЗАВОД ТРЕХСОСЕНСКИЙ&quot;</td>
                                             <td class="text-break-all">7302023991</td>
                                             <td class="text-break-all">732645001</td>
                                             <td class="text-break-all">TEST-FA-000000011522304</td>
                                             <td class="text-break-all">TEST-FB-000000013838885</td>
                                             <td class="text-center">1</td>
                                             <td class="text-center">4.5</td>
                                             <td class="text-center">4.50</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538116" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538116" data-quantity='1.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538116" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538120" data-id="16538120"/>
                                                 </td>
                                             <td class="text-break-all">
0037340000001233310                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538120' onclick="PositionDetailsShow(this);">Пиво светлое &quot;ИСКУССТВО ВАРИТЬ Чешское барное Живое&quot; 1,8л ПЭТ</a>
                                             </td>
                                             <td class="text-break-all">ООО &quot;ЗАВОД ТРЕХСОСЕНСКИЙ&quot;</td>
                                             <td class="text-break-all">7302023991</td>
                                             <td class="text-break-all">732645001</td>
                                             <td class="text-break-all">TEST-FA-000000011522305</td>
                                             <td class="text-break-all">TEST-FB-000000014172199</td>
                                             <td class="text-center">5</td>
                                             <td class="text-center">4.9</td>
                                             <td class="text-center">4.90</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538120" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538120" data-quantity='5.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538120" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538122" data-id="16538122"/>
                                                 </td>
                                             <td class="text-break-all">
0350258000001237779                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538122' onclick="PositionDetailsShow(this);">Хамовники Венское бутылка светлое пастеризованное фильтрованное</a>
                                             </td>
                                             <td class="text-break-all">ЗАО &quot;МПК&quot;</td>
                                             <td class="text-break-all">5029104266</td>
                                             <td class="text-break-all">502945001</td>
                                             <td class="text-break-all">TEST-FA-000000003815968</td>
                                             <td class="text-break-all">TEST-FB-000000005329359</td>
                                             <td class="text-center">182</td>
                                             <td class="text-center">4.5</td>
                                             <td class="text-center">4.50</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538122" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538122" data-quantity='182.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538122" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538117" data-id="16538117"/>
                                                 </td>
                                             <td class="text-break-all">
0350258000001237779                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538117' onclick="PositionDetailsShow(this);">Хамовники Венское бутылка светлое пастеризованное фильтрованное</a>
                                             </td>
                                             <td class="text-break-all">ЗАО &quot;МПК&quot;</td>
                                             <td class="text-break-all">5029104266</td>
                                             <td class="text-break-all">502945001</td>
                                             <td class="text-break-all">TEST-FA-000000003815968</td>
                                             <td class="text-break-all">TEST-FB-000000005406813</td>
                                             <td class="text-center">2</td>
                                             <td class="text-center">4.5</td>
                                             <td class="text-center">4.50</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538117" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538117" data-quantity='2.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538117" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                         <tr>
                                                 <td class="select-this">
                                                     <input type="checkbox" id="check-16538119" data-id="16538119"/>
                                                 </td>
                                             <td class="text-break-all">
0350258000001237779                                             </td>
                                             <td class="text-break-all">
                                                     <a class="" style="cursor: pointer" data-url='/StockRests/PositionDetails/16538119' onclick="PositionDetailsShow(this);">Хамовники Венское бутылка светлое пастеризованное фильтрованное</a>
                                             </td>
                                             <td class="text-break-all">ЗАО &quot;МПК&quot;</td>
                                             <td class="text-break-all">5029104266</td>
                                             <td class="text-break-all">502945001</td>
                                             <td class="text-break-all">TEST-FA-000000001756712</td>
                                             <td class="text-break-all">TEST-FB-000000014084837</td>
                                             <td class="text-center">5</td>
                                             <td class="text-center">4.5</td>
                                             <td class="text-center">4.50</td>
                                                 <td>
                                                     <div class="numArrows">
                                                         <a data-id="16538119" class="rest-quantity-add" href="#">
                                                             <span class="glyphicon glyphicon-triangle-top"></span>
                                                         </a>
                                                         <input type="text" data-id="16538119" data-quantity='5.00' class="rest-quantity form-control" value="0"/>
                                                         <a data-id="16538119" class="rest-quantity-sub" href="#">
                                                             <span class="glyphicon glyphicon-triangle-bottom"></span>
                                                         </a>
                                                     </div>
                                                 </td>
                                         </tr>
                                     </tbody>
                                 </table>
                             </div>
                <div class="paginationBlock">
                    <ul class="pagination" id="rests-pager">
                            <li class='active'>
                                <a href="#" data-page="1">1</a>
                            </li>
                    </ul>
                    <img src="http://centrikt.ru:51003/Content/Icons/ajax-loader.gif" id="rests-pager-loader" class="collapse" style="vertical-align: top; padding-top: 30px; padding-left: 10px;" />
                </div>
                </div>
                <div id='position-modal' class='modal fade' tabindex="-1" role="dialog">
                    <div class="modal-dialog" id='modalContainer' role="document">

                    </div>
                </div>
                <div id="reason-modal" class="modal fade" tabindex="-1" role-dialog>
                    <div class="modal-dialog" id="reasonContainer" role="document">

                    </div>
                </div>
                <input type="hidden" id="selected-value" />
</form>                <script>

        $('#stockRests').tablesorter({

        });

        var productionRestsPositions = [];
            productionRestsPositions[0] = {"Id":16538115,"AlcCode":"0035543000001251651","Name":"Пиво светлое пастеризованное \"Сибирская корона классическое\" КЕГИ","ProducerId":33090,"InfoA":"TEST-FA-000000003847341","InfoB":"TEST-FB-000000005750381","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":1.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Пиво светлое пастеризованное \"Сибирская корона классическое\" КЕГИ","ProductVCode":"500","Capacity":5.30,"AlcVolume":5.30,"ProductType":"АП","ProducerName":"АО \"САН ИНБЕВ\"","ProducerInn":"5020037784","ProducerKpp":"550702001"}
            productionRestsPositions[1] = {"Id":16538121,"AlcCode":"0036245000001234395","Name":"Пиво светлое непастеризованное \"Русское пиво\" классическое","ProducerId":44563,"InfoA":"TEST-FA-000000016480378","InfoB":"TEST-FB-000000032547798","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":5.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Пиво светлое непастеризованное \"Русское пиво\" классическое","ProductVCode":"500","Capacity":4.00,"AlcVolume":4.00,"ProductType":"АП","ProducerName":"АО \"РПК \"Хмелёфф\"","ProducerInn":"6228002327","ProducerKpp":"623401001"}
            productionRestsPositions[2] = {"Id":16538118,"AlcCode":"0036245000001234395","Name":"Пиво светлое непастеризованное \"Русское пиво\" классическое","ProducerId":44563,"InfoA":"TEST-FA-000000026948432","InfoB":"TEST-FB-000000032547799","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":4.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Пиво светлое непастеризованное \"Русское пиво\" классическое","ProductVCode":"500","Capacity":4.00,"AlcVolume":4.00,"ProductType":"АП","ProducerName":"АО \"РПК \"Хмелёфф\"","ProducerInn":"6228002327","ProducerKpp":"623401001"}
            productionRestsPositions[3] = {"Id":16538116,"AlcCode":"0037340000001233305","Name":"Пиво\"ТРЕХСОСЕНСКОЕ светлое Живое\" 1,7 л ПЭТ","ProducerId":37163,"InfoA":"TEST-FA-000000011522304","InfoB":"TEST-FB-000000013838885","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":1.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Пиво\"ТРЕХСОСЕНСКОЕ светлое Живое\" 1,7 л ПЭТ","ProductVCode":"500","Capacity":4.50,"AlcVolume":4.50,"ProductType":"АП","ProducerName":"ООО \"ЗАВОД ТРЕХСОСЕНСКИЙ\"","ProducerInn":"7302023991","ProducerKpp":"732645001"}
            productionRestsPositions[4] = {"Id":16538120,"AlcCode":"0037340000001233310","Name":"Пиво светлое \"ИСКУССТВО ВАРИТЬ Чешское барное Живое\" 1,8л ПЭТ","ProducerId":37163,"InfoA":"TEST-FA-000000011522305","InfoB":"TEST-FB-000000014172199","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":5.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Пиво светлое \"ИСКУССТВО ВАРИТЬ Чешское барное Живое\" 1,8л ПЭТ","ProductVCode":"500","Capacity":4.90,"AlcVolume":4.90,"ProductType":"АП","ProducerName":"ООО \"ЗАВОД ТРЕХСОСЕНСКИЙ\"","ProducerInn":"7302023991","ProducerKpp":"732645001"}
            productionRestsPositions[5] = {"Id":16538122,"AlcCode":"0350258000001237779","Name":"Хамовники Венское бутылка светлое пастеризованное фильтрованное","ProducerId":39656,"InfoA":"TEST-FA-000000003815968","InfoB":"TEST-FB-000000005329359","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":182.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Хамовники Венское бутылка светлое пастеризованное фильтрованное","ProductVCode":"500","Capacity":4.50,"AlcVolume":4.50,"ProductType":"АП","ProducerName":"ЗАО \"МПК\"","ProducerInn":"5029104266","ProducerKpp":"502945001"}
            productionRestsPositions[6] = {"Id":16538117,"AlcCode":"0350258000001237779","Name":"Хамовники Венское бутылка светлое пастеризованное фильтрованное","ProducerId":39656,"InfoA":"TEST-FA-000000003815968","InfoB":"TEST-FB-000000005406813","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":2.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Хамовники Венское бутылка светлое пастеризованное фильтрованное","ProductVCode":"500","Capacity":4.50,"AlcVolume":4.50,"ProductType":"АП","ProducerName":"ЗАО \"МПК\"","ProducerInn":"5029104266","ProducerKpp":"502945001"}
            productionRestsPositions[7] = {"Id":16538119,"AlcCode":"0350258000001237779","Name":"Хамовники Венское бутылка светлое пастеризованное фильтрованное","ProducerId":39656,"InfoA":"TEST-FA-000000001756712","InfoB":"TEST-FB-000000014084837","TtnNumber":null,"TtnDate":null,"Shipper":null,"Quantity":5.00,"WayBillId":null,"ImporterId":0,"Importer":" (/)","Identity":null,"ShortName":"Хамовники Венское бутылка светлое пастеризованное фильтрованное","ProductVCode":"500","Capacity":4.50,"AlcVolume":4.50,"ProductType":"АП","ProducerName":"ЗАО \"МПК\"","ProducerInn":"5029104266","ProducerKpp":"502945001"}

        $(function() {
            initControls($('#form-rests'));

            $(".link-select", $('#form-rests')).each(function (index, element) {
                $(element).click(function (event) {
                    event.preventDefault();
                    var info = $(this).data('info');
                    var k = $(this).data('index');
                    $('#selected-value', $('#form-rests')).val(info);
                    hideModalDialog();

                    // обработчик
                    if (typeof restSelected != 'undefined') {
                        restSelected();
                    }

                    // вызывает обработчик выбора позиции и передает в него json DTO объекта позиции остатка
                    if (restSelectedJson != null) {
                        var json = productionRestsPositions[k];
                        restSelectedJson(json);
                    }
                });
            });

            $('#rests-filters-reset', $('#form-rests')).click(function() {
                var form = $('#form-rests');
                $('#AlcCode', form).val('');
                $('#Name', form).val('');
                $('#InfoA', form).val('');
                $('#InfoB', form).val('');
                $('#ProducerImporterInn', form).val('');
                $('#ProducerImporterKpp', form).val('');
                $('#ProducerName', form).val('');
                reloadRestsForm();
            });

            $('#checkbox-select-all').click(function (event) {
                var checked = $(this).prop('checked');
                $('input[id^="check-"]', $('#form-rests')).each(function (index, element) {
                    $(element).prop('checked', checked);
                });
            });

            $('.subBlock1 > #transfer-to-shop-selected').click(function (event) {
                event.preventDefault();
                TransferToShopSelected();
            });


            $('.subBlock1 > #create-act-writeoff-selected').click(function (event) {
                event.preventDefault();
                CreateActWriteoffSelected();
            });

            $('.subBlock1 > #create-outgoing-waybill-selected').click(function (event) {
                event.preventDefault();
                CreateOutgoingWaybillSelected();
            });

            $('.rest-quantity', $('#form-rests')).focus(function () {
                var me = $(this);
                if (!(this.inputmask)) {
                    me.inputmask('portal-decimal-positive', { "max": me.data('quantity') });
                }
                me.select();
            });

            $('.rest-quantity', $('#form-rests')).on('input', function() {
                var me = $(this);
                editorChanged(me);
            });

            $('.rest-quantity', $('#form-rests')).on('blur', function() {
                var me = $(this);
                editorChanged(me);
            });

            function editorChanged(editor) {
                var id = editor.data('id');
                var val = parseFloat(editor.val());
                if (isNaN(val))
                    val = 0.0;
                var checkbox = $('input[id="check-' + id + '"]', $('#form-rests'));
                if (val != 0.0) {
                    checkbox.prop('checked', true);
                } else {
                    checkbox.prop('checked', false);
                }
            }

            $('.rest-quantity-sub', $('#form-rests')).click(function(event) {
                event.preventDefault();
                var id = $(this).data('id');
                var editor = $('.rest-quantity[data-id=' + id + ']', $('#form-rests'));
                var val = parseFloat(editor.val());
                if (isNaN(val))
                    val = 0.0;
                val -= 1.0;
                if (val < 0.0)
                    val = 0.0;
                editor.focus();
                editor.val(val);
                editorChanged(editor);
            });

            $('.rest-quantity-add', $('#form-rests')).click(function(event) {
                event.preventDefault();
                var id = $(this).data('id');
                var editor = $('.rest-quantity[data-id=' + id + ']', $('#form-rests'));
                var val = parseFloat(editor.val());
                var max = parseFloat(editor.data('quantity'));
                if (isNaN(val))
                    val = 0.0;
                val += 1.0;
                if (val > max)
                    val = max;
                editor.focus();
                editor.val(val);
                editorChanged(editor);
            });

            $('.pagination > li > a').click(function(event) {
                event.preventDefault();
                $('.pagination #rests-pager-loader').show();
                var page = $(this).data('page');
                $('#form-rests-page').val(page);
                reloadRestsForm();
            });

            $('#form-rests').submit(function() {
                saveSelectedRows();
                saveRestValues();
            });

            $('#move-all-to-shop').click(function() {
                DialogConfirmAction("Вся продукция, находящаяся на складе в регистре №1, будет перенесена в торговый зал ЕГАИС (регистр №2).<BR />Для начала убедитесь в актуальности остатков.<BR />Перенести всю продукцию в торговый зал?", function() {
                    var url = '/StockRests/MoveAllToShop';
                    sendAjaxData(url, null, function() {
                        reloadPage("Вся продукция успешно перенесена в торговый зал");
                    });
                });
            });

            
                ReValidate($('#form-rests'));
            

            loadSelectedRows();
            loadRestValues();
        });

        function TransferToShopSelected() {
            var ids = GetSelectedAndCheck();
            if (ids == null)
                return;
            TransferToShop(ids);
        }

        function CreateActWriteoffSelected() {
            var ids = GetSelectedAndCheck();
            if (ids == null)
                return;
            CreateActWriteoff(ids);
        }

        function CreateOutgoingWaybillSelected() {
            var ids = GetSelectedAndCheck();
            if (ids == null)
                return;
            CreateOutgoingWaybill(ids);
        }

        function GetSelected() {
            var list = $('input[id^="check-"]:checked', $('#form-rests'));
            var ids = [];
            list.each(function (index, element) {
                ids.push($(element).data('id'));
            });
            return ids;
        }

        function GetSelectedAndCheck() {
            var list = GetSelected();
            if (list.length == 0) {
                DialogInfo('Выберите хотя бы одну продукцию');
                return null;
            }

            var data = GetRestsActionAjaxData(list);

            if ($.grep(data, function (element) {
                console.log(element);
                return (element.Quantity === 0.0);
            }).length > 0) {
                DialogInfo('У некоторых выбранных строк количество равно нулю.<BR />Укажите количество больше нуля, или снимите выбор со строки.');
                return null;
            }

            var sum = 0.0;
            $.each(data, function (index, element) {
                sum += element.Quantity;
            });
            if (sum === 0.0) {
                DialogInfo('Суммарное количество продукции равно нулю.<BR />Нельзя отправлять пустой акт.');
                return null;
            }
            return list;
        }

        function TransferToShop(ids) {
            DialogConfirmAction('Вы действильно хотите перевести выбранную продукцию в торговый зал?', function () {
                var url = '/StockRests/TransferToShop';
                var data = GetRestsActionAjaxData(ids);
                sendAjaxData(url,
                    { data: data },
                    function() {
                        DialogInfo('Продукция отправлена в торговый зал ЕГАИС. <BR/> Данную продукцию можно реализовывать в розничной продаже. <BR/> В ближайшее время у Вас будет возможность просмотреть перечень продукции, находящейся в торговом зале.', reloadRestsForm);
                    });
            });
        }

        function CreateActWriteoff(ids) {
            DialogConfirmAction('Вы действильно хотите создать акт списания на основе выбранных остатков?',
                function() {
                    var url = '/StockRests/CreateActWriteoff';
                    var data = GetRestsActionAjaxData(ids);
                    var isAdvance = false;

                    sendAjaxData(url,  { data: data }, function(result) {
                        if (!isAdvance) {
                                SelectReason(result);
                            } else {
                                navigateTo(result);
                            }
                        });
                });
        }

        function CreateOutgoingWaybill(ids) {
            DialogConfirmAction('Вы действильно хотите создать исходящую ТТН на основе выбранных остатков?', function () {
                var url = '/StockRests/CreateOutgoingWaybill';
                var data = GetRestsActionAjaxData(ids);
                sendAjaxData(url, { data: data }, function (result) {
                    navigateTo(result);
                });
            });
        }

        function GetRestsActionAjaxData(ids) {
            var data = [];
            $.each(ids, function(index, id) {
                var editor = $('.rest-quantity[data-id=' + id + ']', $('#form-rests'));
                var val = parseFloat(editor.val());
                data.push({
                    Id: id,
                    Quantity: val
                });
            });
            return data;
        }

        function reloadRestsForm() {
            $('#form-rests').trigger('submit');
        }

        function onRestFiltersSuccess() {
            
                var url = '/StockRests?AlcCode=&Name=&InfoA=&InfoB=&ProducerImporterInn=&ProducerImporterKpp=&ProducerName=&ShipperFsrarId=&TtnNumber=&TtnDate=&TtnWbRegId=&e8cdcca7-44a2-45b2-99a3-18623a73677a=System.Web.Mvc.DictionaryValueProvider%601%5BSystem.Object%5D&page=1';
                SetWindowUrl(url, null);
            
       }

        function loadSelectedRows() {
            var selection = getRestsSelectedRowsFromCookie();
            $.each(selection, function(index, id) {
                var checkbox = $('input[id="check-' + id + '"]', $('#form-rests'));
                if (checkbox != null)
                    checkbox.prop('checked', true);
            } );
        }

        function saveSelectedRows() {
            var checkboxes = $('input[id^="check-"]', $('#form-rests'));
            var selection = getRestsSelectedRowsFromCookie();
            checkboxes.each(function(index, element) {
                var id = $(element).data('id');
                var checked = $(element).prop('checked');
                if (checked) {
                    var k = $.inArray(id, selection);
                    if (k == -1) {
                        selection.push(id);
                    }
                } else {
                    var k = $.inArray(id, selection);
                    if (k != -1) {
                        selection.splice(k, 1);
                    }
                }
            });
            setRestsSelectionRowsToCookie(selection);
        }

        function loadRestValues() {
            var values = getRestValuesFromCookie();
            console.info(values);
            $.each(values, function(index, item) {
                var editor = $('.rest-quantity[data-id=' + item.id + ']', $('#form-rests'));
                if (editor != null)
                    editor.val(item.value);
            } );
        }

        function saveRestValues() {
            var values = getRestValuesFromCookie();
            var editors = $('input.rest-quantity', $('#form-rests'));
            $.each(editors, function(index, element) {
                var editor = $(element);
                var id = editor.data('id');
                var item = findItemInValuesArray(values, id);
                if (item == null) {
                    item = { id: id, value: 0 };
                    values.push(item);
                }
                item.value = editor.val();
            });
            console.info(values);
            setRestValuesToCookie(values);
        }

        function findItemInValuesArray(values, id) {
            $.each(values, function(index, item) {
                if (item.id == id)
                    return item;
            });
            return null;
        }

        function getRestsSelectedRowsFromCookie() {
            var result = Cookies.getJSON('rests-selection-f180a7f3-0f21-48f0-8e4e-11fd61da6bf8');
            if (result == undefined)
                result = [];
            return result;
        }

        function setRestsSelectionRowsToCookie(data) {
            Cookies.set('rests-selection-f180a7f3-0f21-48f0-8e4e-11fd61da6bf8', data);
        }

        function getRestValuesFromCookie() {
            var result = Cookies.getJSON('rest-values-f180a7f3-0f21-48f0-8e4e-11fd61da6bf8');
            if (result == undefined)
                result = [];
            return result;
        }

        function setRestValuesToCookie(data) {
            Cookies.set('rest-values-f180a7f3-0f21-48f0-8e4e-11fd61da6bf8', data);
        }

        function SelectReason(result) {

            $.ajax({
                type: 'GET',
                url: '/StockRests/SelectReason',
                data: {id: result},
                success: function(data) {
                    $('#reasonContainer').html(data);

                    $('#reason-modal').modal('show');
                }
            });
        }

        function PositionDetailsShow(link) {

            var url = $(link).data('url');
            showPleaseWaitDialog();
            $.get(url, function (data) {
                hidePleaseWaitDialog();
                $('#modalContainer').html(data);

                $('#position-modal').modal('show');
            });
        }
                </script>




</div>




                <footer>
            <div class="footerTop">
                <div class="container">
                    <div class="col-md-3">
                        <div><div class="footTel footTelPos">8 (499) 653-61-43</div></div>
                        <a href="#" class="butCallBack butCallBackPos callBackControl">Сообщить о проблеме</a>
                    </div>
                    <div class="col-md-3">
                        <a class="footIc footIcVideo" href="http://centrikt.ru:51003/Help/HowToUse">Видеоинструкция</a>
                        <a class="footIc footIcHelp" href="http://centrikt.ru:51003/Help/Support">Помощь и поддержка</a>
                        <a class="footIc footIcCont" href="http://centrikt.ru:51003/Help/Contacts">Контакты</a>
                    </div>

                        <div class="footItems col-md-3">
                            <a href="http://centrikt.ru:51003/Home/Operator">Главная</a>
                            <a href="http://centrikt.ru:51003/User">Пользователи</a>
                            <a href="http://centrikt.ru:51003/Organisation">Организации</a>
                            <a href="http://centrikt.ru:51003/RetailNetwork">Торговые сети</a>
<a href="http://centrikt.ru:51003/Declaration/Simple">Декларации</a>                        </div>
                             <div class="footItems col-md-3">
                                 <a href="http://centrikt.ru:51003/StockRests">Склад</a>
                                 <a href="http://centrikt.ru:51003/ShopRests">Торговый зал</a>
                                 <a href="http://centrikt.ru:51003/IncomingWayBill/Index/All">Накладные</a>
                                 <a href="http://centrikt.ru:51003/Reports?mode=Reports">Отчёты и выгрузка</a>
                                 <a href="http://centrikt.ru:51003/Utm">Управление</a>
                             </div>
                    <br><br>

                </div>
            </div>

            <div class="footerBottom">
                <div class="container-fluid">
                    <a href="https://centrikt.ru/Agreement" target="_blank" class="privAgr">Соглашение о конфиденциальности</a> | <a href="#" target="_blank" class="privAgr">Перейти на старую версию портала</a>
                    <p>&copy; 2017 - ООО "Центр информационно-коммуникационных технологий" (ООО Центр ИКТ)</p>
                </div>
            </div>
        </footer>


<script>
    $(function () {
        $.scrollUp();
    });

    $(function () {
        var t = new CallbackRequestTopButton($('.callBackControl'), 'egais.alcospot.ru', 'https://doc.alcospot.ru:8090');
    });

    $(document).ready(function () {

        var docHeight = $(window).height();
        var footerHeight = $('footer').height();
        var footerTop = $('footer').position().top + footerHeight;

        if (footerTop < docHeight) {
            $('footer').css('margin-top', 10 + (docHeight - footerTop) + 'px');
        }
    });

</script>


    </div>
</body>
</html>